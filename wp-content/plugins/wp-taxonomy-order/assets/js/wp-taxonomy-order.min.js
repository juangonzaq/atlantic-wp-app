jQuery(function(t){var e="table.wp-list-table",i="tbody tr:not(.inline-edit-row)",n='.column-handle input[name="term_id"]',d='<td class="column-handle"></td>';0===t(e).find(".column-handle").length&&(t(e).find("tr:not(.inline-edit-row)").append(d),n=".check-column input"),t(e).find(".column-handle").show(),t.wc_add_missing_sort_handles=function(){var i=t(e).find("tbody > tr"),n=t(e).find("tbody > tr > td.column-handle").parent();i.length!==n.length&&i.each(function(e,i){n.is(i)||t(i).append(d)}),t(e).find(".column-handle").show()},t(document).ajaxComplete(function(e,i,n){i&&4===i.readyState&&200===i.status&&n.data&&(0<=n.data.indexOf("_inline_edit")||0<=n.data.indexOf("add-tag"))&&(t.wc_add_missing_sort_handles(),t(document.body).trigger("init_tooltips"))}),t(e).sortable({items:i,cursor:"move",handle:".column-handle",axis:"y",forcePlaceholderSize:!0,helper:"clone",opacity:.65,placeholder:"product-cat-placeholder",scrollSensitivity:40,start:function(t,e){e.item.hasClass("alternate")||e.item.css("background-color","#ffffff"),e.item.children("td, th").css("border-bottom-width","0"),e.item.css("outline","1px solid #aaa")},stop:function(t,e){e.item.removeAttr("style"),e.item.children("td, th").css("border-bottom-width","1px")},update:function(i,d){var o,a,l=d.item.find(n).val(),r=d.item.find(".parent").html(),c=d.item.prev().find(n).val(),s=d.item.next().find(n).val();return void 0!==c&&(o=d.item.prev().find(".parent").html(),o!==r&&(c=void 0)),void 0!==s&&(a=d.item.next().find(".parent").html(),a!==r&&(s=void 0)),void 0===c&&void 0===s||void 0===s&&a===c||void 0!==s&&o===l?void t(e).sortable("cancel"):(d.item.find(".check-column input").hide(),d.item.find(".check-column").append('<img alt="processing" src="images/wpspin_light.gif" class="waiting" style="margin-left: 6px;" />'),t.post(ajaxurl,{action:"wpto_term_ordering",id:l,nextid:s,thetaxonomy:wpto_term_ordering_params.taxonomy},function(t){"children"===t?window.location.reload():(d.item.find(".check-column input").show(),d.item.find(".check-column").find("img").remove())}),void t("table.widefat tbody tr").each(function(){var t=jQuery("table.widefat tbody tr").index(this);t%2===0?jQuery(this).addClass("alternate"):jQuery(this).removeClass("alternate")}))}})});
